Paranoid Virtual Disk V0.1
=====================

#### File System Structure

The supports file system is a flat file system: it contains only files (not directories).

```
                 Root
             /     |    \         \
          names  inodes  contents meta
```

`Root` here corresponds to `pfs-directory` in the `pfs` manual page.

Example (taking `~/.pfs` is the root):

- `~/.pfs/names/my-file.txt` is a text file containing the (textual) name of the corresponding inode (e.g. `1a2b3c4d`).
- `~/.pfs/inodes/1a2b3c4d` is a text file containing a JSONified inode structure (see below).
- `~/.pfs/contents/1a2b3c4d` is a regular file-system file containing the actual data of `my-file.txt`.

The `meta` directory contains the following files:

- `uuid.txt` -- the UUID of this file-system instance; generated by `pfs creat`.
- `ip.txt` -- the IP address of the server for this file-system instance; generated by `pfs mount`.
- `port.txt` -- the port of the server for this file-system instance; generated by `pfs mount`.

Note:

- Later, we will need another file or directory containing file-system meta
  data such as the globally-unique identity of the file system, information
  about peers, keys, etc.

### INode Structure

INode Structure:
```
{
  inode: 1a2b3c4d  // unique within file system
  count: 1         // reference count
                   // in due course, we will need other stuff
}
```

### Supported Functions

This is an on-disk data structure.  The operations for manipulating it are provided the `pfs` utility, which is documented separately.

